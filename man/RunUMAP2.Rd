% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RunUMAP2.R
\name{RunUMAP2}
\alias{RunUMAP2}
\alias{RunUMAP2.Seurat}
\alias{RunUMAP2.default}
\title{Run UMAP (Uniform Manifold Approximation and Projection)}
\usage{
RunUMAP2(object, ...)

\method{RunUMAP2}{Seurat}(
  object,
  reduction = "pca",
  dims = NULL,
  features = NULL,
  neighbor = NULL,
  graph = NULL,
  assay = NULL,
  layer = "data",
  umap.method = "uwot",
  reduction.model = NULL,
  n_threads = NULL,
  return.model = FALSE,
  n.neighbors = 30L,
  n.components = 2L,
  metric = "cosine",
  n.epochs = 200L,
  spread = 1,
  min.dist = 0.3,
  set.op.mix.ratio = 1,
  local.connectivity = 1L,
  negative.sample.rate = 5L,
  a = NULL,
  b = NULL,
  learning.rate = 1,
  repulsion.strength = 1,
  reduction.name = "umap",
  reduction.key = "UMAP_",
  verbose = TRUE,
  seed.use = 11,
  ...
)

\method{RunUMAP2}{default}(
  object,
  assay = NULL,
  umap.method = "uwot",
  reduction.model = NULL,
  n_threads = NULL,
  return.model = FALSE,
  n.neighbors = 30L,
  n.components = 2L,
  metric = "cosine",
  n.epochs = 200L,
  spread = 1,
  min.dist = 0.3,
  set.op.mix.ratio = 1,
  local.connectivity = 1L,
  negative.sample.rate = 5L,
  a = NULL,
  b = NULL,
  learning.rate = 1,
  repulsion.strength = 1,
  reduction.key = "UMAP_",
  verbose = TRUE,
  seed.use = 11L,
  ...
)
}
\arguments{
\item{object}{An object. This can be a Seurat object, a matrix-like object, a Neighbor object, or a Graph object.}

\item{...}{Additional arguments to be passed to UMAP.}

\item{reduction}{The reduction to be used. Default is \code{"pca"}.}

\item{dims}{The dimensions to be used. Default is \code{NULL}.}

\item{features}{The features to be used. Default is \code{NULL}.}

\item{neighbor}{The name of the Neighbor object to be used. Default is \code{NULL}.}

\item{graph}{The name of the Graph object to be used. Default is \code{NULL}.}

\item{assay}{The assay to be used. Default is \code{NULL}.}

\item{layer}{The layer to be used. Default is \code{"data"}.}

\item{umap.method}{The UMAP method to be used.
Options are \code{"naive"} and \code{"uwot"}.
Default is \code{"uwot"}.}

\item{reduction.model}{A DimReduc object containing a pre-trained UMAP model.
Default is \code{NULL}.}

\item{n_threads}{Num of threads used.}

\item{return.model}{Whether to return the UMAP model. Default is \code{FALSE}.}

\item{n.neighbors}{A number of nearest neighbors to be used. Default is \code{30}.}

\item{n.components}{A number of UMAP components. Default is \code{2}.}

\item{metric}{The metric or a function to be used for distance calculations.
When using a string, available metrics are: \code{euclidean}, \code{manhattan}.
Other available generalized metrics are: cosine, pearson, pearson2.
Note the triangle inequality may not be satisfied by some generalized metrics, hence knn search may not be optimal.
When using metric.function as a function,
the signature must be function(matrix, origin, target) and should compute a distance between the origin column and the target columns.
Default is \code{"cosine"}.}

\item{n.epochs}{A number of iterations performed during layout optimization for UMAP.
Default is \code{200}.}

\item{spread}{The spread parameter for UMAP, used during automatic estimation of a/b parameters.
Default is \code{1}.}

\item{min.dist}{The minimum distance between UMAP embeddings, determines how close points appear in the final layout.
Default is \code{0.3}.}

\item{set.op.mix.ratio}{Interpolate between (fuzzy) union and intersection as the set operation used to combine local fuzzy simplicial sets to obtain a global fuzzy simplicial sets.
Both fuzzy set operations use the product t-norm.
The value of this parameter should be between \code{0.0} and \code{1.0};
a value of \code{1.0} will use a pure fuzzy union, while \code{0.0} will use a pure fuzzy intersection.}

\item{local.connectivity}{The local connectivity, used during construction of fuzzy simplicial set.
Default is \code{1}.}

\item{negative.sample.rate}{The negative sample rate for UMAP optimization.
Determines how many non-neighbor points are used per point and per iteration during layout optimization.
Default is \code{5}.}

\item{a}{The parameter a for UMAP optimization.
Contributes to gradient calculations during layout optimization.
When left at NA, a suitable value will be estimated automatically.
Default is \code{NULL}.}

\item{b}{The parameter b for UMAP optimization. Details see parameter \code{a}.}

\item{learning.rate}{The initial value of "learning rate" of layout optimization.
Default is \code{1}.}

\item{repulsion.strength}{A numeric value determines, together with alpha, the learning rate of layout optimization.
Default is \code{1}.}

\item{reduction.name}{The name of the reduction to be stored in the Seurat object.
Default is \code{"umap"}.}

\item{reduction.key}{The prefix for the column names of the UMAP embeddings.
Default is \code{"UMAP_"}.}

\item{verbose}{Whether to print the message.
Default is \code{TRUE}.}

\item{seed.use}{The random seed to be used.
Default is \code{11}.}
}
\description{
Run UMAP (Uniform Manifold Approximation and Projection)
}
\examples{
pancreas_sub <- Seurat::FindVariableFeatures(pancreas_sub)
pancreas_sub <- RunUMAP2(
  object = pancreas_sub,
  features = SeuratObject::VariableFeatures(pancreas_sub)
)
CellDimPlot(
  pancreas_sub,
  group.by = "CellType",
  reduction = "umap"
)
}
