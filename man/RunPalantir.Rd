% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RunPalantir.R
\name{RunPalantir}
\alias{RunPalantir}
\title{Run Palantir analysis}
\usage{
RunPalantir(
  srt = NULL,
  assay_x = "RNA",
  layer_x = "counts",
  assay_y = c("spliced", "unspliced"),
  layer_y = "counts",
  adata = NULL,
  group_by = NULL,
  linear_reduction = NULL,
  nonlinear_reduction = NULL,
  basis = NULL,
  n_pcs = 30,
  n_neighbors = 30,
  dm_n_components = 10,
  dm_alpha = 0,
  dm_n_eigs = NULL,
  early_group = NULL,
  early_cell = NULL,
  terminal_cells = NULL,
  terminal_groups = NULL,
  num_waypoints = 1200,
  scale_components = TRUE,
  use_early_cell_as_start = TRUE,
  adjust_early_cell = FALSE,
  adjust_terminal_cells = FALSE,
  max_iterations = 25,
  cores = 1,
  point_size = 20,
  palette = "Paired",
  palcolor = NULL,
  legend.position = "on data",
  show_plot = FALSE,
  save_plot = FALSE,
  plot_format = c("pdf", "png", "svg"),
  plot_dpi = 300,
  plot_prefix = "palantir",
  dirpath = "./",
  return_seurat = !is.null(srt),
  verbose = TRUE
)
}
\arguments{
\item{srt}{A Seurat object. Default is \code{NULL}.
If provided, \code{adata} will be ignored.}

\item{assay_x}{Assay to convert in the anndata object.}

\item{layer_x}{Layer name for \code{assay_x} in the Seurat object.}

\item{assay_y}{Assay to convert in the anndata object.}

\item{layer_y}{Layer names for the \code{assay_y} in the Seurat object.}

\item{adata}{An anndata object. Default is \code{NULL}.}

\item{group_by}{Variable to use for grouping cells in the Seurat object.}

\item{linear_reduction}{Linear reduction method to use, e.g., \code{"PCA"}.}

\item{nonlinear_reduction}{Non-linear reduction method to use, e.g., \code{"UMAP"}.}

\item{basis}{The basis to use for reduction, e.g., \code{"UMAP"}.}

\item{n_pcs}{Number of principal components to use for linear reduction.
Default is \code{30}.}

\item{n_neighbors}{Number of neighbors to use for constructing the KNN graph.
Default is \code{30}.}

\item{dm_n_components}{The number of diffusion components to calculate.}

\item{dm_alpha}{Normalization parameter for the diffusion operator.}

\item{dm_n_eigs}{Number of eigen vectors to use.}

\item{early_group}{Name of the group to start Palantir analysis from.}

\item{early_cell}{Name of the cell to start Palantir analysis from.}

\item{terminal_cells}{Character vector specifying terminal cells for Palantir analysis.}

\item{terminal_groups}{Character vector specifying terminal groups for Palantir analysis.}

\item{num_waypoints}{Number of waypoints to be included.}

\item{scale_components}{Should the cell fate probabilities be scaled for each component independently?}

\item{use_early_cell_as_start}{Should the starting cell for each terminal group be set as early_cell?}

\item{adjust_early_cell}{Whether to adjust the early cell to the cell with the minimum pseudotime value.}

\item{adjust_terminal_cells}{Whether to adjust the terminal cells to the cells with the maximum pseudotime value for each terminal group.}

\item{max_iterations}{Maximum number of iterations for pseudotime convergence.}

\item{cores}{The number of cores to use for parallelization with \link[foreach:foreach]{foreach::foreach}.
Default is \code{1}.}

\item{point_size}{The point size for plotting.}

\item{palette}{The palette to use for coloring cells.}

\item{palcolor}{A vector of colors to use as the palette.}

\item{legend.position}{Position of legend in plots. Can be \code{"on data"}, \code{"right margin"}, \code{"bottom right"}, etc. Default is \code{"on data"}.}

\item{show_plot}{Whether to show the plot.
Default is \code{FALSE}.}

\item{save_plot}{Whether to save plots to files. Default is \code{FALSE}.}

\item{plot_format}{Format for saved plots: \code{"png"} (default), \code{"pdf"}, or \code{"svg"}.}

\item{plot_dpi}{Resolution (DPI) for saved plots. Default is \code{300}.}

\item{plot_prefix}{Prefix for saved plot filenames. Default is "cellrank".}

\item{dirpath}{The directory to save the plots. Default is \code{"./cellrank"}.}

\item{return_seurat}{Whether to return a Seurat object instead of an anndata object.
Default is \code{TRUE}.}

\item{verbose}{Whether to print the message.
Default is \code{TRUE}.}
}
\description{
Run Palantir analysis
}
\examples{
\dontrun{
data(pancreas_sub)
pancreas_sub <- standard_scop(pancreas_sub)
pancreas_sub <- RunPalantir(
  pancreas_sub,
  group_by = "SubCellType",
  linear_reduction = "PCA",
  nonlinear_reduction = "UMAP",
  early_group = "Ductal",
  use_early_cell_as_start = TRUE,
  terminal_groups = c("Alpha", "Beta", "Delta", "Epsilon")
)

FeatureDimPlot(
  pancreas_sub,
  c("palantir_pseudotime", "palantir_diff_potential")
)

FeatureDimPlot(
  pancreas_sub,
  paste0(
    c("Alpha", "Beta", "Delta", "Epsilon"),
    "_diff_potential"
  )
)
}
}
\seealso{
\link{srt_to_adata}
}
